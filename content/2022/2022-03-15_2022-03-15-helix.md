---
title: Helix text editor!
extra:
  subtitle: さようならVS code, Zed
taxonomies:
  tags: ["helix"]
---
ふとしたことで純Rust製の高速エディタが開発中[zed.dev](https://zed.dev)らしいというのを見て早速登録してみたもののなんの音沙汰もなし（知った時点でHacker newsで紹介されてから既に数ヶ月）。
同じようなタイミングでReddit経由で[helix](https://docs.helix-editor.com/)というエディタを知った。
コンソール内で動くS+V形式のvi系エディタということだが（名前だけは知っていた）基になった[Kakoune](https://kakoune.org)ともども色々設計方針を読み、
なんか面白そうなので使っていみたら大変気に入ってしまった。

いいところ：
- multi selectionが基本機能。
  実はまだKakouneの[デモ](https://kakoune.org/why-kakoune/video/regroup.webm)にある機能が再現できないのだけど、selectionから複数のselectionを作り、それから必要なものだけを選択し、編集したり、必要なものだけを削除して別の場所にまとめて貼り付けたりできる。
  これはつまり関数型プログラミングパラダイムのiter, map, filter, collectそのものじゃないか。
  これは乗り換える価値のある「新しさ」ではなかろうか。
- LTSが基本機能。Rustに関しては本体とRust-analyzer以外不要。保存するだけでclippyのメッセージが埋め込まれる。
- 構文解析器[tree-sitter](https://github.com/tree-sitter/tree-sitter)が標準組み込みなので、引数単位、式単位、文単位などでの移動ができる。
  Surround系機能が時代遅れに感じる。
  SchemeやCommon Lispを対象にGnu Emacsが提供していたsexp系の機能が今の時代に復活してきたような感慨深いものがある。
- レジスタ指定貼り付け時など、所々でKakouneと同様に情報ボックスが表示される。これは親切。
- 挿入モードに入った後の編集機能のキーバインディングがEmacs。なので挿入モードに入った後はEmacsみたいな感じで編集できる。
  これはEmacsを挿入に特化したエディタというvi派の主張に乗っかっていうなら、Helixは移動編集用モードが追加されたEmacsとも言える。
  これまでお気に入りだったEmacs w/ evil modeからさらにpost modernな感じで融合したしたような印象。ほぼ乗り換えてしまった。
- "anchor"という言葉がマニュアルにできてきた。
  viでのカーソルの基本コンセプトがどうしても身に付かないところがあったのだが、
  カーソルとマーカーの2種類の文字と文字との間に位置する場所指定子があって、
  それが`;`でキャンセル(shrink)、`Alt-;`で入れ替えできるとなるともはやEmacsと変わるところがない。
  また挿入が単なるリージョンの置き換えに加え、リージョンの直前、直後への挿入が用意されていると考えれば納得いくものがある。

というわけで、gnus, magit, diredなどEmacs以外ではできない使い勝手が要求されるところ以外の、つまり基本編集に関してはとうとうhelixの方が便利かもというところまで来てしまいました。
