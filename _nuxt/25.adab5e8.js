(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{497:function(t){t.exports=JSON.parse('{"title":"How to fix a nuisance by Intero on Emacs?","subtitle":"InteroでEmacsがおかしくなる問題","date":"2018-07-06T00:00:00.000Z","tags":["emacs","haskell"],"bodyContent":"At a directory without stack configuration, emacs is *devastated* by the initialization step of Intero.\\nThis is a record of my atemps to fix.\\n\\n### 2018-07-06: Stop it!\\n\\n```elisp\\n(defun auto-revert-notify-add-watch ()\\n  \\"Enable file notification for current buffer\'s associated file.\\"\\n  ;; We can assume that `buffer-file-name\' and\\n  ;; `auto-revert-use-notify\' are non-nil.\\n  (if (or (string-match auto-revert-notify-exclude-dir-regexp\\n\\t\\t\\t(expand-file-name (or default-directory \\"\\")))\\n\\t  (file-symlink-p (or buffer-file-name default-directory)))\\n\\n      ;; Fallback to file checks.\\n      (setq-local auto-revert-use-notify nil)\\n\\n    (when (not auto-revert-notify-watch-descriptor)\\n      (setq auto-revert-notify-watch-descriptor\\n\\t    (ignore-errors\\n\\t      (if buffer-file-name\\n\\t\\t  (file-notify-add-watch\\n\\t\\t   (expand-file-name buffer-file-name default-directory)\\n\\t\\t   \'(change attribute-change)\\n\\t\\t   \'auto-revert-notify-handler)\\n\\t\\t(file-notify-add-watch\\n\\t\\t (expand-file-name default-directory)\\n\\t\\t \'(change)\\n\\t\\t \'auto-revert-notify-handler))))\\n      (if auto-revert-notify-watch-descriptor\\n\\t  (progn\\n\\t    (puthash\\n\\t     auto-revert-notify-watch-descriptor\\n\\t     (cons (current-buffer)\\n\\t\\t   (gethash auto-revert-notify-watch-descriptor\\n\\t\\t\\t    auto-revert-notify-watch-descriptor-hash-list))\\n\\t     auto-revert-notify-watch-descriptor-hash-list)\\n\\t    (add-hook \'kill-buffer-hook\\n\\t\\t      #\'auto-revert-notify-rm-watch nil t))\\n\\t;; Fallback to file checks.\\n\\t(setq-local auto-revert-use-notify nil)))))\\n```","bodyHtml":"<p>At a directory without stack configuration, emacs is <em>devastated</em> by the initialization step of Intero.\\nThis is a record of my atemps to fix.</p>\\n<h3>2018-07-06: Stop it!</h3>\\n<pre><code class=\\"hljs\\">(defun auto-revert-notify-add-watch ()\\n  \\"Enable file notification for current buffer\'s associated file.\\"\\n  ;; We can assume that `buffer-file-name\' and\\n  ;; `auto-revert-use-notify\' are non-nil.\\n  (if (or (string-match auto-revert-notify-exclude-dir-regexp\\n\\t\\t\\t(expand-file-name (or default-directory \\"\\")))\\n\\t  (file-symlink-p (or buffer-file-name default-directory)))\\n\\n      ;; Fallback to file checks.\\n      (setq-local auto-revert-use-notify nil)\\n\\n    (when (not auto-revert-notify-watch-descriptor)\\n      (setq auto-revert-notify-watch-descriptor\\n\\t    (ignore-errors\\n\\t      (if buffer-file-name\\n\\t\\t  (file-notify-add-watch\\n\\t\\t   (expand-file-name buffer-file-name default-directory)\\n\\t\\t   \'(change attribute-change)\\n\\t\\t   \'auto-revert-notify-handler)\\n\\t\\t(file-notify-add-watch\\n\\t\\t (expand-file-name default-directory)\\n\\t\\t \'(change)\\n\\t\\t \'auto-revert-notify-handler))))\\n      (if auto-revert-notify-watch-descriptor\\n\\t  (progn\\n\\t    (puthash\\n\\t     auto-revert-notify-watch-descriptor\\n\\t     (cons (current-buffer)\\n\\t\\t   (gethash auto-revert-notify-watch-descriptor\\n\\t\\t\\t    auto-revert-notify-watch-descriptor-hash-list))\\n\\t     auto-revert-notify-watch-descriptor-hash-list)\\n\\t    (add-hook \'kill-buffer-hook\\n\\t\\t      #\'auto-revert-notify-rm-watch nil t))\\n\\t;; Fallback to file checks.\\n\\t(setq-local auto-revert-use-notify nil)))))</code></pre>","dir":"article/.json/2018","base":"2018-07-06-broken-intero.json","ext":".json","sourceBase":"2018-07-06-broken-intero.md","sourceExt":".md"}')}}]);