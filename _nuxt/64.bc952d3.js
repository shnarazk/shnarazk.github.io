(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{543:function(n){n.exports=JSON.parse('{"title":"A Weird Rust Compile Error","subtitle":"by structopt-derive or proc-macro2","date":"2020-03-02T00:00:00.000Z","tags":["Rust","splr"],"bodyContent":"突然、こんなコンパイルエラーが出るようになった。\\n\\n```\\n cargo install --path . --force\\n  Installing splr v0.3.1\\n   Compiling structopt-derive v0.4.2\\nerror[E0277]: the trait bound `syn::expr::Expr: std::clone::Clone` is not satisfied\\n  --\x3e ~/.cargo/registry/src/github.com-1ecc6299db9ec823/structopt-derive-0.4.2/src/attrs\\n.rs:28:10\\n   |\\n28 |     Skip(Option<Expr>),\\n   |          ^^^^^^^^^^^^\\n   |          |\\n   |          expected an implementor of trait `std::clone::Clone`\\n   |          help: consider borrowing here: `&Option<Expr>`\\n   |\\n   = note: required because of the requirements on the impl of `std::clone::Clone` for `std::option::Option<syn::expr::Expr>`\\n   = note: required by `std::clone::Clone::clone`\\n```\\n\\n他のリポジトリではならない。いくつか古いコミットまで戻すとエラーがなくなる。\\nどうも、proc-macro2のバージョンが上がった後でcargo updateしたのが原因で、その結果\\n何か変なのをダウンロードしているような気がするのだが、\\n他のリポジトリでcargo updateしてもこうはならない。ぐぐっても特に引っかかるものはなし。\\nうーむ、何がいかんのだろうか。\\n\\nとりあえず、古いcargo.lockを持ってきてコンパイルするときには\\n\\n```\\ncargo install ... --frozen --offline\\n```\\n\\nとすることで急場を凌ぐことにした。\\n\\n## 2020-03-02\\n\\n`structopt-derive`のバージョンが0.4.4に上がっている。エラーもなくなったようだ。","bodyHtml":"<p>突然、こんなコンパイルエラーが出るようになった。</p>\\n<pre><code> cargo install --path . --force\\n  Installing splr v0.3.1\\n   Compiling structopt-derive v0.4.2\\nerror[E0277]: the trait bound `syn::expr::Expr: std::clone::Clone` is not satisfied\\n  --&gt; ~/.cargo/registry/src/github.com-1ecc6299db9ec823/structopt-derive-0.4.2/src/attrs\\n.rs:28:10\\n   |\\n28 |     Skip(Option&lt;Expr&gt;),\\n   |          ^^^^^^^^^^^^\\n   |          |\\n   |          expected an implementor of trait `std::clone::Clone`\\n   |          help: consider borrowing here: `&amp;Option&lt;Expr&gt;`\\n   |\\n   = note: required because of the requirements on the impl of `std::clone::Clone` for `std::option::Option&lt;syn::expr::Expr&gt;`\\n   = note: required by `std::clone::Clone::clone`\\n</code></pre>\\n<p>他のリポジトリではならない。いくつか古いコミットまで戻すとエラーがなくなる。\\nどうも、proc-macro2のバージョンが上がった後でcargo updateしたのが原因で、その結果\\n何か変なのをダウンロードしているような気がするのだが、\\n他のリポジトリでcargo updateしてもこうはならない。ぐぐっても特に引っかかるものはなし。\\nうーむ、何がいかんのだろうか。</p>\\n<p>とりあえず、古いcargo.lockを持ってきてコンパイルするときには</p>\\n<pre><code>cargo install ... --frozen --offline\\n</code></pre>\\n<p>とすることで急場を凌ぐことにした。</p>\\n<h2>2020-03-02</h2>\\n<p><code>structopt-derive</code>のバージョンが0.4.4に上がっている。エラーもなくなったようだ。</p>\\n","dir":"article/.json/2020","base":"2020-03-01-rust-error.json","ext":".json","sourceBase":"2020-03-01-rust-error.md","sourceExt":".md"}')}}]);