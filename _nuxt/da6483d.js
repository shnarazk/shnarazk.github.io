(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{612:function(t){t.exports=JSON.parse('{"title":"JIS配列のMacbookのかなキーで日本語入力モードのトグルしたい","subtitle":null,"date":"2021-06-11T00:00:00.000Z","tags":["macOS"],"bodyContent":"## hidutilでなんとかしよう\\n\\nUS配列だと基本は(macbookでは)、こういうので日本語入力モードを切り替えることができる。\\n\\n```\\nhidutil property --set \'{\\"UserKeyMapping\\":[{\\"HIDKeyboardModifierMappingSrc\\":0x7000000e7,\\"HIDKeyboardModifierMappingDst\\":0x700000068}]}\'\\n```\\n\\nあるいは、最近だとmagic keyboardが対象だと下のようになる（OSのバージョンが上がって何かが以前と変わってしまったようだ）。\\n\\n```\\nhidutil property --set \'{\\"UserKeyMapping\\":[{\\"HIDKeyboardModifierMappingSrc\\":0x7000000e7,\\"HIDKeyboardModifierMappingDst\\":0x700000039 }]}\'\\n```\\n\\nこれと同じことをJIS配列のmacbook（支給品）でもやりたいのだが、世の中に逆行しているので、自分で検証しなければならなかったのでメモ。\\n\\nまずは[一次資料](https://developer.apple.com/library/archive/technotes/tn2450/_index.html#//apple_ref/doc/uid/DTS40017618-CH1-KEY_TABLE_USAGES)で上に出てきたキーを解釈していく：\\n\\n| code |                 key |\\n|-----:|--------------------:|\\n|   39 |           Caps Lock |\\n|   68 |                 F13 |\\n|   e7 |  Keyboard Right GUI |\\n\\nなんとコマンドキーとはGUIキーなのか。\\n39は特に設定のいらない入力切り替えキーCaps Lockに割り当てているだけだ。\\n\\ne7を39に割り当てる方法はそのまま使えたので、スペースキーの隣の隣を入力ソースの切り替えに使えるようにするのは簡単だった。\\n\\nあとは「かな」のcodeが分かれば念願のスペースキーの隣で切り替えできるのだが、これを調べるのが大変だった。\\n全部調べたと言っておきながら「かな」がない日本語記事のなんと多いことか。\\nなんとか[それらしいの](https://qiita.com/nariya/items/0065c630653573ae7268)を探し出してきた。\\n\\n| code |                 key |\\n|-----:|--------------------:|\\n|   90 |       Japanese Kana |\\n|   91 |                英数 |\\n\\nやってみるとドンピシャ。\\n\\n```\\nhidutil property --set \'{\\"UserKeyMapping\\":[{\\"HIDKeyboardModifierMappingSrc\\":0x700000090,\\"HIDKeyboardModifierMappingDst\\":0x700000039 }]}\'\\n```\\n\\nこれで幸せ。","bodyHtml":"<h2>hidutilでなんとかしよう</h2>\\n<p>US配列だと基本は(macbookでは)、こういうので日本語入力モードを切り替えることができる。</p>\\n<pre><code>hidutil property --set \'{&quot;UserKeyMapping&quot;:[{&quot;HIDKeyboardModifierMappingSrc&quot;:0x7000000e7,&quot;HIDKeyboardModifierMappingDst&quot;:0x700000068}]}\'\\n</code></pre>\\n<p>あるいは、最近だとmagic keyboardが対象だと下のようになる（OSのバージョンが上がって何かが以前と変わってしまったようだ）。</p>\\n<pre><code>hidutil property --set \'{&quot;UserKeyMapping&quot;:[{&quot;HIDKeyboardModifierMappingSrc&quot;:0x7000000e7,&quot;HIDKeyboardModifierMappingDst&quot;:0x700000039 }]}\'\\n</code></pre>\\n<p>これと同じことをJIS配列のmacbook（支給品）でもやりたいのだが、世の中に逆行しているので、自分で検証しなければならなかったのでメモ。</p>\\n<p>まずは<a href=\\"https://developer.apple.com/library/archive/technotes/tn2450/_index.html#//apple_ref/doc/uid/DTS40017618-CH1-KEY_TABLE_USAGES\\">一次資料</a>で上に出てきたキーを解釈していく：</p>\\n<table>\\n<thead>\\n<tr>\\n<th style=\\"text-align:right\\">code</th>\\n<th style=\\"text-align:right\\">key</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\"text-align:right\\">39</td>\\n<td style=\\"text-align:right\\">Caps Lock</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:right\\">68</td>\\n<td style=\\"text-align:right\\">F13</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:right\\">e7</td>\\n<td style=\\"text-align:right\\">Keyboard Right GUI</td>\\n</tr>\\n</tbody>\\n</table>\\n<p>なんとコマンドキーとはGUIキーなのか。\\n39は特に設定のいらない入力切り替えキーCaps Lockに割り当てているだけだ。</p>\\n<p>e7を39に割り当てる方法はそのまま使えたので、スペースキーの隣の隣を入力ソースの切り替えに使えるようにするのは簡単だった。</p>\\n<p>あとは「かな」のcodeが分かれば念願のスペースキーの隣で切り替えできるのだが、これを調べるのが大変だった。\\n全部調べたと言っておきながら「かな」がない日本語記事のなんと多いことか。\\nなんとか<a href=\\"https://qiita.com/nariya/items/0065c630653573ae7268\\">それらしいの</a>を探し出してきた。</p>\\n<table>\\n<thead>\\n<tr>\\n<th style=\\"text-align:right\\">code</th>\\n<th style=\\"text-align:right\\">key</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\"text-align:right\\">90</td>\\n<td style=\\"text-align:right\\">Japanese Kana</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:right\\">91</td>\\n<td style=\\"text-align:right\\">英数</td>\\n</tr>\\n</tbody>\\n</table>\\n<p>やってみるとドンピシャ。</p>\\n<pre><code>hidutil property --set \'{&quot;UserKeyMapping&quot;:[{&quot;HIDKeyboardModifierMappingSrc&quot;:0x700000090,&quot;HIDKeyboardModifierMappingDst&quot;:0x700000039 }]}\'\\n</code></pre>\\n<p>これで幸せ。</p>\\n","dir":"article/.json/2021","base":"2021-06-11-mac-keylayout.json","ext":".json","sourceBase":"2021-06-11-mac-keylayout.md","sourceExt":".md"}')}}]);