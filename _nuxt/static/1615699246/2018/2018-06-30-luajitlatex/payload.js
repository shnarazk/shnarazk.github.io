__NUXT_JSONP__("/2018/2018-06-30-luajitlatex", {data:[{article:Object.create(null,{default:{writable:true,enumerable:true,value:{title:"Comparison of luajitlatex and lualatex in TexLive2018",subtitle:"luajitlatexはlualatexより速いのか",date:"2018-06-30T00:00:00.000Z",tags:["latex"],bodyContent:"つい最近までluajittexを知らなかったので、lualatexとluajitltexの速度比較をしてみます．\n\n- 対象：50ページを超えるbeamerプレゼンテーションスライド\n- Version: TexLive2018 x86_64-linux\n- Env.: ArchLinux, 16GB, SSD\n- 環境変数`TIMEFORMAT=\"%2U\"`\n- 種々のキャッシュを活かすため１回目の実行結果は対象外\n\n```plaintext\n$ make clean; time lualatex presen.tex \u003E \u002Fdev\u002Fnull\n18.31\n17.74\n17.99\n```\n\n※ make cleanの内容は `rm -f *.pdf *.aux *.log *.nav *.snm *.toc *.vrb`\n\n```plaintext\n$ make clean;time luajittex --fmt=luajitlatex.fmt presen.tex \u003E \u002Fdev\u002Fnull\n43.91\n44.67\n44.90\n```\n\n予想に反してjit版の方が2倍強遅いという結果になってしまった．なにか勘違いしている？\nそれともluatexはlua 5.2ベースなのに対して，luajittexはlua5.1ベースだそうだが，そのせいなのだろうか．\n\nではもしかしてluatex53は何か期待できる？\n\n```plaintext\n$ make clean;time luatex53 --fmt=lualatex.fmt presen.tex \u003E \u002Fdev\u002Fnull\n16.34\n16.21\n16.28\n```\n\n1秒強速くなった．今回の環境ではこれが最速．\n\nこの程度の違いでも何度もlatexを走らせるlatexmkで評価するとそれなりの差になってくる．\n実際に`$pdflatex`の定義をこの２つで変えて実行してみると以下の結果．\n\nlatexmk  | run 1 | run 2 \n---------|-------|-------\nluatex53 | 63.33 | 63.63 \nluatex   | 69.53 | 69.85 \n\nうーむ．では .latexmkrc には luatex53 を登録しておこう．",bodyHtml:"\u003Cp\u003Eつい最近までluajittexを知らなかったので、lualatexとluajitltexの速度比較をしてみます．\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E対象：50ページを超えるbeamerプレゼンテーションスライド\u003C\u002Fli\u003E\n\u003Cli\u003EVersion: TexLive2018 x86_64-linux\u003C\u002Fli\u003E\n\u003Cli\u003EEnv.: ArchLinux, 16GB, SSD\u003C\u002Fli\u003E\n\u003Cli\u003E環境変数\u003Ccode\u003ETIMEFORMAT=&quot;%2U&quot;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E種々のキャッシュを活かすため１回目の実行結果は対象外\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean; time lualatex presen.tex &gt; \u002Fdev\u002Fnull\n18.31\n17.74\n17.99\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E※ make cleanの内容は \u003Ccode\u003Erm -f *.pdf *.aux *.log *.nav *.snm *.toc *.vrb\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean;time luajittex --fmt=luajitlatex.fmt presen.tex &gt; \u002Fdev\u002Fnull\n43.91\n44.67\n44.90\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E予想に反してjit版の方が2倍強遅いという結果になってしまった．なにか勘違いしている？\nそれともluatexはlua 5.2ベースなのに対して，luajittexはlua5.1ベースだそうだが，そのせいなのだろうか．\u003C\u002Fp\u003E\n\u003Cp\u003Eではもしかしてluatex53は何か期待できる？\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean;time luatex53 --fmt=lualatex.fmt presen.tex &gt; \u002Fdev\u002Fnull\n16.34\n16.21\n16.28\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E1秒強速くなった．今回の環境ではこれが最速．\u003C\u002Fp\u003E\n\u003Cp\u003Eこの程度の違いでも何度もlatexを走らせるlatexmkで評価するとそれなりの差になってくる．\n実際に\u003Ccode\u003E$pdflatex\u003C\u002Fcode\u003Eの定義をこの２つで変えて実行してみると以下の結果．\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003Elatexmk\u003C\u002Fth\u003E\n\u003Cth\u003Erun 1\u003C\u002Fth\u003E\n\u003Cth\u003Erun 2\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eluatex53\u003C\u002Ftd\u003E\n\u003Ctd\u003E63.33\u003C\u002Ftd\u003E\n\u003Ctd\u003E63.63\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eluatex\u003C\u002Ftd\u003E\n\u003Ctd\u003E69.53\u003C\u002Ftd\u003E\n\u003Ctd\u003E69.85\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003Eうーむ．では .latexmkrc には luatex53 を登録しておこう．\u003C\u002Fp\u003E\n",dir:"article\u002F.json\u002F2018",base:"2018-06-30-luajitlatex.json",ext:".json",sourceBase:"2018-06-30-luajitlatex.md",sourceExt:".md"}},title:{writable:true,enumerable:true,value:"Comparison of luajitlatex and lualatex in TexLive2018"},subtitle:{writable:true,enumerable:true,value:"luajitlatexはlualatexより速いのか"},date:{writable:true,enumerable:true,value:"2018-06-30T00:00:00.000Z"},tags:{writable:true,enumerable:true,value:["latex"]},bodyContent:{writable:true,enumerable:true,value:"つい最近までluajittexを知らなかったので、lualatexとluajitltexの速度比較をしてみます．\n\n- 対象：50ページを超えるbeamerプレゼンテーションスライド\n- Version: TexLive2018 x86_64-linux\n- Env.: ArchLinux, 16GB, SSD\n- 環境変数`TIMEFORMAT=\"%2U\"`\n- 種々のキャッシュを活かすため１回目の実行結果は対象外\n\n```plaintext\n$ make clean; time lualatex presen.tex \u003E \u002Fdev\u002Fnull\n18.31\n17.74\n17.99\n```\n\n※ make cleanの内容は `rm -f *.pdf *.aux *.log *.nav *.snm *.toc *.vrb`\n\n```plaintext\n$ make clean;time luajittex --fmt=luajitlatex.fmt presen.tex \u003E \u002Fdev\u002Fnull\n43.91\n44.67\n44.90\n```\n\n予想に反してjit版の方が2倍強遅いという結果になってしまった．なにか勘違いしている？\nそれともluatexはlua 5.2ベースなのに対して，luajittexはlua5.1ベースだそうだが，そのせいなのだろうか．\n\nではもしかしてluatex53は何か期待できる？\n\n```plaintext\n$ make clean;time luatex53 --fmt=lualatex.fmt presen.tex \u003E \u002Fdev\u002Fnull\n16.34\n16.21\n16.28\n```\n\n1秒強速くなった．今回の環境ではこれが最速．\n\nこの程度の違いでも何度もlatexを走らせるlatexmkで評価するとそれなりの差になってくる．\n実際に`$pdflatex`の定義をこの２つで変えて実行してみると以下の結果．\n\nlatexmk  | run 1 | run 2 \n---------|-------|-------\nluatex53 | 63.33 | 63.63 \nluatex   | 69.53 | 69.85 \n\nうーむ．では .latexmkrc には luatex53 を登録しておこう．"},bodyHtml:{writable:true,enumerable:true,value:"\u003Cp\u003Eつい最近までluajittexを知らなかったので、lualatexとluajitltexの速度比較をしてみます．\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E対象：50ページを超えるbeamerプレゼンテーションスライド\u003C\u002Fli\u003E\n\u003Cli\u003EVersion: TexLive2018 x86_64-linux\u003C\u002Fli\u003E\n\u003Cli\u003EEnv.: ArchLinux, 16GB, SSD\u003C\u002Fli\u003E\n\u003Cli\u003E環境変数\u003Ccode\u003ETIMEFORMAT=&quot;%2U&quot;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E種々のキャッシュを活かすため１回目の実行結果は対象外\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean; time lualatex presen.tex &gt; \u002Fdev\u002Fnull\n18.31\n17.74\n17.99\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E※ make cleanの内容は \u003Ccode\u003Erm -f *.pdf *.aux *.log *.nav *.snm *.toc *.vrb\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean;time luajittex --fmt=luajitlatex.fmt presen.tex &gt; \u002Fdev\u002Fnull\n43.91\n44.67\n44.90\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E予想に反してjit版の方が2倍強遅いという結果になってしまった．なにか勘違いしている？\nそれともluatexはlua 5.2ベースなのに対して，luajittexはlua5.1ベースだそうだが，そのせいなのだろうか．\u003C\u002Fp\u003E\n\u003Cp\u003Eではもしかしてluatex53は何か期待できる？\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E$ make clean;time luatex53 --fmt=lualatex.fmt presen.tex &gt; \u002Fdev\u002Fnull\n16.34\n16.21\n16.28\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E1秒強速くなった．今回の環境ではこれが最速．\u003C\u002Fp\u003E\n\u003Cp\u003Eこの程度の違いでも何度もlatexを走らせるlatexmkで評価するとそれなりの差になってくる．\n実際に\u003Ccode\u003E$pdflatex\u003C\u002Fcode\u003Eの定義をこの２つで変えて実行してみると以下の結果．\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003Elatexmk\u003C\u002Fth\u003E\n\u003Cth\u003Erun 1\u003C\u002Fth\u003E\n\u003Cth\u003Erun 2\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eluatex53\u003C\u002Ftd\u003E\n\u003Ctd\u003E63.33\u003C\u002Ftd\u003E\n\u003Ctd\u003E63.63\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eluatex\u003C\u002Ftd\u003E\n\u003Ctd\u003E69.53\u003C\u002Ftd\u003E\n\u003Ctd\u003E69.85\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003Eうーむ．では .latexmkrc には luatex53 を登録しておこう．\u003C\u002Fp\u003E\n"},dir:{writable:true,enumerable:true,value:"article\u002F.json\u002F2018"},base:{writable:true,enumerable:true,value:"2018-06-30-luajitlatex.json"},ext:{writable:true,enumerable:true,value:".json"},sourceBase:{writable:true,enumerable:true,value:"2018-06-30-luajitlatex.md"},sourceExt:{writable:true,enumerable:true,value:".md"}})}],fetch:[],mutations:[]});